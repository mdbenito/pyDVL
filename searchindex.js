Search.setIndex({"docnames": ["getting-started", "index", "install", "notebooks/index", "notebooks/knn_shapley", "valuation/cli", "valuation/index", "valuation/influence", "valuation/influence/general", "valuation/influence/linear", "valuation/influence/types", "valuation/loo", "valuation/loo/naive", "valuation/models", "valuation/models/linear_regression_torch_model", "valuation/models/pytorch_model", "valuation/reporting", "valuation/reporting/plots", "valuation/reporting/scores", "valuation/shapley", "valuation/shapley/knn", "valuation/shapley/montecarlo", "valuation/shapley/naive", "valuation/solve", "valuation/solve/cg", "valuation/utils", "valuation/utils/caching", "valuation/utils/dataset", "valuation/utils/logging", "valuation/utils/numeric", "valuation/utils/parallel", "valuation/utils/progress", "valuation/utils/types", "valuation/utils/utility"], "filenames": ["getting-started.rst", "index.rst", "install.rst", "notebooks/index.rst", "notebooks/knn_shapley.ipynb", "valuation/cli.rst", "valuation/index.rst", "valuation/influence.rst", "valuation/influence/general.rst", "valuation/influence/linear.rst", "valuation/influence/types.rst", "valuation/loo.rst", "valuation/loo/naive.rst", "valuation/models.rst", "valuation/models/linear_regression_torch_model.rst", "valuation/models/pytorch_model.rst", "valuation/reporting.rst", "valuation/reporting/plots.rst", "valuation/reporting/scores.rst", "valuation/shapley.rst", "valuation/shapley/knn.rst", "valuation/shapley/montecarlo.rst", "valuation/shapley/naive.rst", "valuation/solve.rst", "valuation/solve/cg.rst", "valuation/utils.rst", "valuation/utils/caching.rst", "valuation/utils/dataset.rst", "valuation/utils/logging.rst", "valuation/utils/numeric.rst", "valuation/utils/parallel.rst", "valuation/utils/progress.rst", "valuation/utils/types.rst", "valuation/utils/utility.rst"], "titles": ["Getting started", "pyDVL", "Installing pyDVL", "Notebooks", "KNN Shapley", "cli", "valuation", "influence", "general", "linear", "types", "loo", "naive", "models", "linear_regression_torch_model", "pytorch_model", "reporting", "plots", "scores", "shapley", "knn", "montecarlo", "naive", "solve", "cg", "utils", "caching", "dataset", "logging", "numeric", "parallel", "progress", "types", "utility"], "terms": {"In": [0, 2], "order": [0, 2, 19, 21, 25, 26, 29], "us": [0, 2, 8, 17, 19, 20, 21, 22, 24, 25, 26, 27, 28, 30, 31], "librari": [0, 1, 25, 27, 30], "you": [0, 1, 2, 29], "need": [0, 4, 14, 25, 26, 30], "memcach": [0, 25, 26, 29], "an": [0, 10, 15, 17, 19, 21, 24, 25, 27, 29, 30, 32], "memori": [0, 30], "kei": [0, 17, 18, 25, 26], "store": 0, "small": [0, 25, 26], "chunk": [0, 25, 30], "arbitrari": 0, "data": [0, 1, 4, 8, 12, 17, 18, 19, 20, 21, 25, 26, 27, 30, 33], "string": 0, "object": [0, 15, 19, 20, 21, 25, 26, 27, 30, 31, 32, 33], "cach": [0, 1, 6, 25, 30], "certain": 0, "result": [0, 17, 24, 25, 26, 30], "speed": 0, "up": [0, 8, 9, 10, 25, 29], "can": [0, 1, 2, 29, 30], "either": [0, 8, 25, 31], "instal": [0, 1], "directli": [0, 4], "your": 0, "system": 0, "run": [0, 4, 14, 17, 19, 21, 25, 26, 29, 30], "For": [0, 17, 19, 21], "refer": [0, 25, 27], "section": 0, "s": [0, 1, 17, 25, 26, 29], "wiki": [0, 24], "u": [0, 19, 21, 22, 25, 33], "user": 0, "Or": [0, 25, 30], "insid": 0, "contain": 0, "docker": 0, "rm": 0, "p": 0, "11211": [0, 25, 26], "latest": [0, 2], "v": [0, 4, 15, 24, 29, 32], "enabl": 0, "default": [0, 25, 26, 30], "disabl": [0, 17, 25, 26], "desir": 0, "import": [0, 2, 4, 25, 26, 29], "numpi": [0, 2, 4], "np": [0, 4, 8, 9, 24, 25, 29, 30], "from": [0, 4, 17, 18, 19, 20, 21, 24, 25, 27, 28, 29], "valuat": [0, 1, 2, 4, 25, 26, 27, 28, 29, 30], "sklearn": [0, 4, 18, 25, 27], "model_select": 0, "train_test_split": 0, "x": [0, 14, 15, 17, 25, 27, 29, 30, 32], "y": [0, 9, 15, 25, 29, 32], "arang": 0, "100": [0, 19, 21], "reshap": 0, "50": 0, "2": [0, 4, 10, 15, 24, 25, 29, 30], "x_train": [0, 25, 27], "x_test": [0, 25, 27], "y_train": [0, 25, 27], "y_test": [0, 25, 27], "test_siz": 0, "0": [0, 4, 17, 18, 19, 21, 24, 25, 26, 27, 29, 30, 33], "5": [0, 4], "random_st": [0, 25, 27], "16": 0, "linear_model": [0, 9, 29], "linearregress": 0, "model": [0, 1, 6, 8, 9, 12, 15, 18, 19, 20, 21, 25, 26, 33], "map_reduc": [0, 25, 30], "montecarlo": [0, 1, 6, 19, 29], "combinatorial_montecarlo_shaplei": [0, 19, 21], "report": [0, 1, 6, 25, 27, 30], "score": [0, 1, 6, 12, 15, 16, 19, 21, 25, 26, 32, 33], "compute_fb_scor": [0, 18], "plot": [0, 1, 4, 6, 16], "shapley_result": [0, 17], "fun": [0, 25, 30], "partial": 0, "truncated_montecarlo_shaplei": [0, 19, 21], "progress": [0, 1, 6, 8, 12, 15, 18, 19, 20, 21, 22, 25, 30, 32, 33], "true": [0, 4, 12, 19, 20, 21, 22, 24, 25, 26, 28, 29, 31, 33], "values_nmc": 0, "hist_nmc": 0, "num_run": [0, 17, 25, 30], "10": [0, 25, 30], "num_job": [0, 19, 21, 25, 29, 30], "160": 0, "scores_nmc": 0, "welcom": 1, "find": 1, "repositori": 1, "here": [1, 17, 25, 32, 33], "get": [1, 8, 29], "start": [1, 17, 30], "creat": [1, 25, 30], "dataset": [1, 4, 6, 8, 9, 12, 18, 19, 20, 21, 25, 33], "util": [1, 4, 6, 19, 21, 22, 26, 28, 29, 30], "comput": [1, 12, 14, 17, 18, 19, 20, 21, 22, 25, 26, 29], "shaplei": [1, 3, 6, 18, 20, 21, 22, 25, 27, 29], "valu": [1, 4, 10, 15, 17, 18, 19, 20, 21, 22, 25, 26, 27, 29, 30, 31], "depend": 1, "notebook": [1, 4], "knn": [1, 3, 6, 19], "cli": [1, 6], "influenc": [1, 2, 6, 8, 9], "gener": [1, 6, 7, 25, 26, 29, 30], "linear": [1, 6, 7, 24, 29], "type": [1, 6, 7, 14, 25, 30], "loo": [1, 6, 12], "naiv": [1, 6, 11, 19, 21, 31], "linear_regression_torch_model": [1, 6, 13], "pytorch_model": [1, 6, 13], "solv": [1, 6], "cg": [1, 6, 23], "log": [1, 6, 25], "numer": [1, 6, 25], "parallel": [1, 6, 18, 21, 25, 29], "index": [1, 17, 19, 21, 25, 27, 30], "search": 1, "page": 1, "requir": [2, 29], "follow": [2, 28], "python": [2, 28], "3": [2, 4, 25, 26, 28], "8": [2, 4, 24, 25, 27, 28], "scikit": 2, "learn": 2, "joblib": [2, 30], "pymemcach": [2, 25, 26], "tqdm": [2, 19, 21, 25, 30, 31], "matplotlib": [2, 4, 17], "option": [2, 14, 15, 17, 24, 25, 26, 27, 29, 30, 33], "want": 2, "function": [2, 14, 19, 21, 24, 25, 26, 27, 29, 30], "also": [2, 24], "pytorch": 2, "To": [2, 30], "releas": 2, "pip": 2, "If": [2, 25, 26, 30], "should": [2, 8, 14, 24], "check": [2, 24, 29], "c": 2, "print": 2, "__version__": 2, "1": [4, 8, 10, 15, 17, 19, 21, 24, 25, 26, 29, 30, 32], "load_ext": 4, "autoreload": 4, "os": 4, "sy": 4, "pathlib": 4, "path": 4, "pyplot": 4, "plt": [4, 17], "neighbor": 4, "kneighborsclassifi": [4, 20], "exact_knn_shaplei": [4, 20], "add": [4, 18, 19, 21, 25, 30], "directori": 4, "abl": 4, "py": [4, 20, 24, 25, 27, 29], "first": [4, 19, 21], "one": [4, 14, 19, 21, 25, 30], "when": [4, 19, 21, 25, 26, 27], "insert": 4, "fspath": 4, "resolv": 4, "second": [4, 25, 26], "test": [4, 8, 9, 18, 19, 21, 28], "4": [4, 28], "plot_iri": 4, "from_sklearn": [4, 25, 27], "load_iri": 4, "6": 4, "n_neighbor": 4, "7": 4, "effect": 4, "k": [4, 24, 29], "item": [4, 18, 26], "ab": 4, "arrai": 4, "9": [4, 25, 30], "plot_test": 4, "maybe_init_task": 5, "task_nam": 5, "str": [5, 17, 25, 26, 27, 28, 30, 32], "clearml_config": 5, "dict": [5, 15, 17, 18, 19, 21, 25, 26, 32], "task_param": 5, "sourc": [5, 8, 9, 10, 12, 14, 15, 17, 18, 19, 20, 21, 22, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33], "fixm": [5, 25, 26, 30], "task": [5, 30], "connect": 5, "work": [5, 25, 27], "copi": [5, 21, 30], "param": [5, 24, 25, 30], "none": [8, 14, 15, 17, 19, 21, 24, 25, 26, 27, 28, 29, 30, 33], "bool": [8, 12, 14, 15, 19, 20, 21, 22, 24, 25, 26, 28, 29, 31, 32, 33], "fals": [8, 15, 19, 21, 24, 25, 26, 29, 32, 33], "n_job": 8, "int": [8, 12, 14, 15, 17, 18, 19, 21, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33], "influence_typ": [8, 9], "influencetyp": [8, 9, 10], "use_conjugate_gradi": 8, "ndarrai": [8, 9, 14, 15, 17, 18, 24, 25, 27, 29, 32], "calcul": [8, 9, 24, 25, 26, 27, 32], "train": [8, 9, 12, 14, 18, 25, 26, 27], "point": [8, 9, 12, 18, 19, 21, 26, 27], "j": 8, "i": [8, 17, 19, 21, 29, 30, 32], "matrix": [8, 17, 24], "i_": 8, "ij": 8, "It": [8, 24, 25, 29, 30], "doe": [8, 25, 30], "so": [8, 19, 21, 26], "factor": 8, "all": [8, 14, 19, 21, 25, 26, 29, 30, 32], "respect": [8, 9, 24, 29, 32], "subsequ": 8, "over": [8, 19, 21, 29, 32], "set": [8, 9, 17, 18, 19, 21, 25, 26, 27, 29, 30, 31], "paramet": [8, 9, 17, 18, 19, 20, 21, 25, 26, 29, 30, 31, 32], "A": [8, 9, 24, 25, 26, 29, 30, 31, 32, 33], "which": [8, 24, 25, 30, 31], "ha": [8, 24, 25, 26], "implement": [8, 18, 19, 21, 24, 30], "twicedifferenti": [8, 32], "interfac": [8, 21], "addit": [8, 18], "supervisedmodel": [8, 12, 18, 25, 32, 33], "hold": 8, "whether": [8, 19, 20, 21, 29], "displai": [8, 19, 20, 21, 25, 30, 31], "bar": [8, 18, 19, 20, 21, 25, 30, 31], "The": [8, 17, 20, 24, 25, 26, 30], "number": [8, 17, 19, 21, 24, 25, 26, 27, 29, 30], "job": [8, 19, 21, 25, 30], "process": [8, 19, 21, 25, 28, 30], "perturb": [8, 10], "hessian": [8, 29, 32], "construct": [8, 25, 27], "complet": [8, 19, 21], "return": [8, 9, 18, 19, 21, 24, 25, 26, 27, 29, 30, 31], "size": [8, 25, 29], "n": [8, 9, 24, 29, 30], "m": [8, 9, 24, 29], "where": [8, 29], "pointsand": 8, "linear_influ": 9, "influences_up_linear_regression_analyt": 9, "tupl": [9, 14, 19, 21, 25, 29, 33], "onto": 9, "valid": 9, "ax": [9, 24], "b": [9, 24, 25, 29, 32], "shape": [9, 24, 29], "nxm": [9, 29], "repres": [9, 24, 29], "input": [9, 32], "dimens": [9, 24, 25, 27], "output": 9, "bxc": 9, "influences_perturbation_linear_regression_analyt": 9, "each": [9, 12, 17, 18, 19, 21, 25, 27, 28, 29, 30], "featur": [9, 25, 27], "bxcxm": 9, "class": [10, 14, 15, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33], "base": [10, 14, 15, 25, 26, 27, 28, 29, 30, 31, 32, 33], "enum": [10, 15, 29], "enumer": [10, 15, 25, 29, 31], "naive_loo": 12, "ordereddict": [12, 17, 18, 19, 20, 21, 22], "float": [12, 15, 17, 18, 19, 21, 24, 25, 26, 27, 29, 30, 32, 33], "lrtorchmodel": 14, "dim": [14, 25, 27], "init": 14, "modul": [14, 15, 25, 27, 30, 32], "forward": [14, 17, 18, 25, 31], "tensor": 14, "defin": 14, "perform": [14, 19, 21], "everi": [14, 19, 21], "call": [14, 17, 20, 25, 27, 30], "overridden": [14, 30], "subclass": [14, 30], "although": 14, "recip": 14, "pass": [14, 25, 30], "within": [14, 19, 21], "thi": [14, 19, 21, 25, 26, 27, 28, 29, 30], "instanc": 14, "afterward": 14, "instead": [14, 19, 21, 24, 25, 26], "sinc": 14, "former": 14, "take": [14, 25, 26, 29, 30], "care": 14, "regist": 14, "hook": 14, "while": 14, "latter": 14, "silent": 14, "ignor": [14, 25, 31], "them": [14, 25, 30], "tt": 15, "flatten_gradi": 15, "grad": [15, 32], "pytorchoptim": 15, "adam": 15, "adam_w": 15, "pytorchsupervisedmodel": 15, "torchobject": [15, 32], "optim": 15, "optimizer_kwarg": 15, "num_epoch": 15, "batch_siz": 15, "64": 15, "mvp": [15, 32], "second_x": [15, 32], "kwarg": [15, 17, 25, 30, 32], "fit": [15, 18, 25, 32], "predict": [15, 25, 32], "shaded_mean_std": 17, "color": 17, "num_std": 17, "usual": 17, "mean": [17, 19, 21, 25, 26, 30], "std": [17, 25, 26], "deviat": 17, "aggreg": [17, 25, 30], "axi": 17, "e": [17, 19, 21, 25, 29, 30, 32], "standard": 17, "shade": 17, "around": 17, "ar": [17, 19, 21, 25, 26, 29, 30], "filenam": 17, "savefig": 17, "save": 17, "exampl": 17, "dictionari": [17, 30], "all_valu": 17, "num_point": 17, "backward_scor": 17, "backward_scores_revers": 17, "backward_random_scor": 17, "forward_scor": 17, "forward_scores_revers": 17, "forward_random_scor": 17, "max_iter": [17, 19, 21, 24], "score_nam": 17, "spearman_correl": 17, "vv": 17, "list": [17, 18, 19, 21, 25, 27, 29, 30], "num_valu": 17, "pvalu": 17, "simpl": [17, 21, 28, 30], "spearman": [17, 29], "correl": [17, 29], "pair": 17, "onli": [17, 19, 21, 24, 25, 27, 32], "mani": [17, 19, 21, 29], "sort_values_arrai": 18, "sort_values_histori": 18, "map": 18, "sequenc": [18, 25, 29], "sort": 18, "sample_id": 18, "last": [18, 19, 21], "sort_valu": 18, "value_float": 18, "backward_elimin": 18, "indic": [18, 19, 21, 25, 27], "job_id": [18, 25, 30], "after": [18, 19, 21, 29], "increment": 18, "remov": 18, "duh": [18, 29], "split": [18, 20, 25, 30], "retrain": [18, 25, 26], "happen": 18, "posit": [18, 24, 25, 27, 30], "execut": [18, 25, 30], "forward_select": 18, "ad": 18, "dure": 18, "select": 18, "backward": 18, "elimin": 18, "increas": [18, 19, 21, 27], "bootstrap_iter": [19, 21, 25, 33], "min_scor": [19, 21], "score_toler": [19, 21], "min_valu": [19, 21, 25, 29], "value_toler": [19, 21], "num_work": [19, 21], "run_id": [19, 21, 30], "approxim": [19, 21, 24, 29], "expect": [19, 21, 28], "we": [19, 21], "sequenti": [19, 21], "permut": [19, 21, 22], "stop": [19, 21, 25, 26, 29], "doesn": [19, 21], "t": [19, 21, 24, 25, 29, 30, 31], "beyond": [19, 21], "threshold": [19, 21], "keep": [19, 21], "sampl": [19, 21, 25, 27, 29], "updat": [19, 21, 26], "until": [19, 21, 25, 26], "chang": [19, 21], "move": [19, 21], "averag": [19, 21, 25, 26, 29, 30], "fall": [19, 21], "below": [19, 21, 25, 26], "anoth": [19, 21], "repeat": [19, 21, 25, 26, 30], "global_scor": [19, 21], "time": [19, 21, 25, 30], "estim": [19, 21, 29], "its": [19, 21], "varianc": [19, 21, 26], "stddev": [19, 21], "bootstrap": [19, 21], "least": [19, 21, 29], "deriv": [19, 21, 25, 29], "min_step": [19, 21], "ep": [19, 21, 29], "close": [19, 21, 29], "never": [19, 21], "more": [19, 21, 24, 25, 26], "than": [19, 20, 21, 25, 26], "iter": [19, 21, 24, 25, 26, 27, 29, 31], "total": [19, 21], "across": [19, 21, 25, 30], "worker": [19, 21, 30], "most": [19, 21], "g": [19, 21, 25, 29, 30, 32], "available_cpu": [19, 21, 25, 30], "thread": [19, 21, 25, 30], "purpos": [19, 21, 25, 30], "locat": [19, 21], "serial_truncated_montecarlo_shaplei": [19, 21], "truncat": [19, 21], "method": [19, 21, 24, 25, 26, 30, 31], "cpu": [19, 21], "permutation_montecarlo_shaplei": [19, 21], "combinatori": [19, 21, 22], "definit": [19, 21, 22, 24], "combinatorial_exact_shaplei": [19, 22], "exact": [19, 20, 22], "permutation_exact_shaplei": [19, 22], "classifi": 20, "regressor": 20, "extract": 20, "modifi": 20, "nor": 20, "other": [20, 29], "get_param": 20, "datashaplei": 21, "don": [21, 30, 31], "foolishli": 21, "rai": 21, "whatev": [21, 28], "distribut": [21, 26, 29], "multipl": [21, 24, 28, 30], "machin": 21, "provid": [21, 30], "singl": 21, "montecarlo_shaplei": 21, "backend": [21, 25, 26, 30], "argument": [21, 25, 26, 29, 30], "multiprocess": [21, 25, 30], "serial": 21, "group": [21, 27], "conjugate_gradi": 24, "union": [24, 25, 31], "callabl": [24, 25, 26, 29, 30], "x0": 24, "rtol": 24, "1e": 24, "05": 24, "verify_assumpt": 24, "raise_except": [24, 28], "batch": 24, "conjug": 24, "gradient": [24, 32], "algorithm": [24, 26, 30], "vector": [24, 29, 32], "product": [24, 32], "effici": 24, "see": [24, 25, 29, 30], "http": [24, 28, 29, 30], "en": 24, "wikipedia": 24, "org": [24, 28], "conjugate_gradient_method": 24, "detail": 24, "github": [24, 29, 30], "com": [24, 29, 30], "scipi": 24, "blob": 24, "v1": 24, "spars": 24, "linalg": 24, "_isolv": 24, "l282": 24, "l351": 24, "web": 24, "stanford": 24, "edu": 24, "ee364b": 24, "lectur": 24, "conj_grad_slid": 24, "pdf": 24, "f": [24, 29], "r": [24, 25, 30], "target": [24, 25, 27], "inv": 24, "underli": 24, "symmetr": 24, "maximum": 24, "rel": [24, 25, 26], "toler": [24, 25, 26, 29], "residu": 24, "norm": 24, "iff": 24, "stochast": [24, 29], "rule": 24, "assumpt": 24, "rais": 24, "warn": 24, "solut": 24, "conjugate_gradient_error_bound": 24, "xt": 24, "math": [24, 29], "stackexchang": [24, 29], "question": [24, 29], "382958": 24, "error": 24, "client_config": [25, 26, 29], "clientconfig": [25, 26, 29], "cache_threshold": [25, 26], "allow_repeated_train": [25, 26], "rtol_threshold": [25, 26], "min_repetit": [25, 26], "ignore_arg": [25, 26], "decor": [25, 26, 32], "have": [25, 26, 29], "transpar": [25, 26], "code": [25, 26], "constant": [25, 26], "except": [25, 26], "those": [25, 26, 27], "remot": [25, 26], "due": [25, 26], "pickl": [25, 26, 28], "drawback": [25, 26], "messi": [25, 26], "docstr": [25, 26], "config": [25, 26], "client": [25, 26, 29], "Will": [25, 26], "merg": [25, 26], "top": [25, 26], "configur": [25, 26, 28, 29, 33], "same": [25, 26, 30], "re": [25, 26], "precis": [25, 26], "reach": [25, 26], "minimum": [25, 26], "repetit": [25, 26], "do": [25, 26, 30, 31], "keyword": [25, 26], "account": [25, 26], "hash": [25, 26], "wrap": [25, 26, 31], "usag": [25, 26], "para": [25, 26], "onc": [25, 26], "smaller": [25, 26], "given": [25, 26, 27], "default_config": [25, 26], "server": [25, 26, 28], "localhost": [25, 26, 28], "connect_timeout": [25, 26], "timeout": [25, 26, 30], "packet": [25, 26], "consolid": [25, 26], "no_delai": [25, 26], "serd": [25, 26], "pickleserd": [25, 26], "pickle_vers": [25, 26], "arg": [25, 30, 32], "protocol": [25, 32], "pedant": [25, 32], "hint": [25, 32], "feature_nam": [25, 27], "target_nam": [25, 27], "data_nam": [25, 27], "descript": [25, 27], "better": [25, 27, 33], "handl": [25, 27, 28], "dval": [25, 27], "name": [25, 27, 30], "indexexpress": [25, 27], "get_train_data": [25, 27], "train_indic": [25, 27], "differ": [25, 26, 27], "sub": [25, 27, 30], "notic": [25, 27], "typic": [25, 27], "equal": [25, 27], "full": [25, 27], "subset": [25, 27, 29], "properti": [25, 27, 29, 31], "contigu": [25, 27], "integ": [25, 27, 29], "len": [25, 27], "individu": [25, 27], "datapoint": [25, 27], "classmethod": [25, 27], "bunch": [25, 27], "train_siz": [25, 27], "load_": [25, 27], "pd": [25, 27], "panda": [25, 27], "home": [25, 27], "runner": [25, 27], "tox": [25, 27], "doc": [25, 27, 28], "lib": [25, 27], "python3": [25, 27], "site": [25, 27], "packag": [25, 27], "__init__": [25, 27], "from_panda": [25, 27], "df": [25, 27], "datafram": [25, 27], "That": [25, 27, 29, 33], "mapreducejob": [25, 30], "collect": [25, 29, 30], "loki": [25, 30], "embarrassingli": [25, 30], "ot": [25, 30], "alloc": [25, 30], "90": [25, 30], "whole": [25, 30], "evenli": [25, 30], "among": [25, 30], "two": [25, 30], "core": [25, 30], "five": [25, 30], "success": [25, 30], "receiv": [25, 28, 30], "per": [25, 30], "reduc": [25, 30], "from_fun": [25, 30], "accept": [25, 29, 30], "etc": [25, 30], "kwd": [25, 30], "There": [25, 30], "probabl": [25, 29, 30], "77": [25, 30], "just": [25, 28, 30], "static": [25, 30], "lambda": [25, 30], "job_id_arg": [25, 30], "run_id_arg": [25, 30], "Not": [25, 30], "actual": [25, 30], "oper": [25, 30, 32], "reduct": [25, 30], "itself": [25, 30], "join": [25, 30], "functool": [25, 30], "id": [25, 30], "allow": [25, 26, 30, 32], "global": [25, 30], "support": [25, 30, 31], "vanishing_deriv": [25, 29], "atol": [25, 29], "row": [25, 29], "whose": [25, 29], "empir": [25, 29], "converg": [25, 29], "zero": [25, 29], "absolut": [25, 29], "unpack": [25, 32], "cl": [25, 30, 32], "attribut": [25, 32], "doubl": [25, 32], "asterisk": [25, 32], "dataclass": [25, 32], "schtuff": [25, 32], "meh": [25, 30, 32], "d": [25, 32], "scorer": [25, 33], "catch_error": [25, 33], "default_scor": [25, 33], "enable_cach": [25, 29, 33], "cache_opt": [25, 33], "memcachedconfig": [25, 26, 33], "conveni": [25, 33], "wrapper": [25, 33], "memoiz": [25, 33], "bootstrap_test_scor": [25, 33], "lack": [25, 33], "place": [25, 33], "powerset": [25, 29], "power": [25, 29], "grow": [25, 29], "random_powerset": [25, 29], "random": [25, 29], "maybe_progress": [25, 31], "rang": [25, 31], "tqdm_kwarg": [25, 31], "tqdm_asyncio": [25, 31], "mock": [25, 31], "well": [25, 31], "ani": [25, 29, 30, 31], "access": [25, 31], "todo": [26, 30], "0x7ff82ef9fbb0": 26, "factori": 26, "get_running_avg_vari": 26, "previous_avg": 26, "previous_vari": 26, "new_valu": 26, "count": 26, "welford": 26, "previou": 26, "step": [26, 29], "new": 26, "seri": 26, "seen": 26, "far": 26, "new_averag": 26, "new_vari": 26, "groupeddataset": 27, "data_group": 27, "coalit": 27, "from_dataset": 27, "polynomi": 27, "coeffici": 27, "polynomial_dataset": 27, "must": [27, 29], "monomi": 27, "degre": 27, "mostli": 28, "quick": 28, "hack": 28, "debug": 28, "logrecordstreamhandl": 28, "request": 28, "client_address": 28, "streamrequesthandl": 28, "handler": 28, "stream": 28, "basic": 28, "record": 28, "polici": 28, "local": 28, "cookbook": 28, "howto": 28, "html": 28, "byte": 28, "length": 28, "logrecord": 28, "format": 28, "accord": 28, "handle_log_record": 28, "logrecordsocketreceiv": 28, "host": 28, "port": 28, "threadingtcpserv": 28, "tcp": 28, "socket": 28, "suitabl": 28, "almost": 28, "verbatim": 28, "allow_reuse_address": 28, "serve_until_stop": 28, "start_logging_serv": 28, "9020": 28, "set_logg": 28, "_logger": 28, "raise_or_log": 28, "messag": 28, "mcmc_is_linear_funct": 29, "verify_sampl": 29, "1000": 29, "assum": 29, "noth": 29, "sum_i": 29, "a_i": 29, "v_i": 29, "mcmc_is_linear_function_positive_definit": 29, "lower_bound_hoeffd": 29, "delta": 29, "score_rang": 29, "lower": 29, "bound": 29, "obtain": 29, "\u03b5": 29, "\u03b4": 29, "quantiti": 29, "taken": 29, "powersetdistribut": 29, "uniform": 29, "weight": 29, "max_subset": 29, "dist": 29, "uniformli": 29, "without": 29, "pre": 29, "arbitrarili": 29, "larg": 29, "howev": 29, "ten": 29, "thousand": 29, "veri": 29, "long": 29, "henc": 29, "abil": 29, "wish": 29, "determinist": 29, "empti": 29, "like": 29, "distinct": 29, "rank": 29, "revers": 29, "perfect": 29, "match": 29, "independ": 29, "random_matrix_with_condition_numb": 29, "condition_numb": 29, "positive_definit": 29, "gist": 29, "bstellato": 29, "23322fe5d87bb71da922fbc41d658079": 29, "file": 29, "random_mat_condition_numb": 29, "1351616": 29, "condit": 29, "ata": 29, "linear_regression_analytical_derivative_d_theta": 29, "bxm": 29, "nparrai": 29, "bxn": 29, "bx": 29, "d_theta": 29, "l": 29, "d_b": 29, "linear_regression_analytical_derivative_d2_theta": 29, "linear_regression_analytical_derivative_d_x_d_theta": 29, "xm": 29, "outdat": 30, "comment": 30, "some": 30, "statu": 30, "histor": 30, "inform": 30, "gather": 30, "later": 30, "ident": 30, "make_nested_backend": 30, "nest": 30, "would": 30, "sequentialbackend": 30, "issu": 30, "947": 30, "chunkifi": 30, "njob": 30, "interruptiblework": 30, "worker_id": 30, "queue": 30, "abort": 30, "consum": 30, "_run": 30, "self": 30, "shapleywork": 30, "instanti": 30, "coordin": 30, "therein": 30, "share": 30, "avoid": 30, "both": 30, "flag": 30, "processor": 30, "put": 30, "get_and_process": 30, "clear_task": 30, "clear_result": 30, "pbar": 30, "end": 30, "mockprogress": 31, "anyth": 31, "minimock": 31, "loss": 32}, "objects": {"": [[6, 0, 0, "-", "valuation"]], "valuation": [[5, 0, 0, "-", "cli"], [7, 0, 0, "-", "influence"], [11, 0, 0, "-", "loo"], [13, 0, 0, "-", "models"], [16, 0, 0, "-", "reporting"], [19, 0, 0, "-", "shapley"], [23, 0, 0, "-", "solve"], [25, 0, 0, "-", "utils"]], "valuation.cli": [[5, 1, 1, "", "maybe_init_task"]], "valuation.influence": [[8, 0, 0, "-", "general"], [9, 0, 0, "-", "linear"], [10, 0, 0, "-", "types"]], "valuation.influence.general": [[8, 1, 1, "", "influences"]], "valuation.influence.linear": [[9, 1, 1, "", "influences_perturbation_linear_regression_analytical"], [9, 1, 1, "", "influences_up_linear_regression_analytical"], [9, 1, 1, "", "linear_influences"]], "valuation.influence.types": [[10, 2, 1, "", "InfluenceTypes"]], "valuation.influence.types.InfluenceTypes": [[10, 3, 1, "", "Perturbation"], [10, 3, 1, "", "Up"]], "valuation.loo": [[12, 0, 0, "-", "naive"]], "valuation.loo.naive": [[12, 1, 1, "", "naive_loo"]], "valuation.models": [[14, 0, 0, "-", "linear_regression_torch_model"], [15, 0, 0, "-", "pytorch_model"]], "valuation.models.linear_regression_torch_model": [[14, 2, 1, "", "LRTorchModel"]], "valuation.models.linear_regression_torch_model.LRTorchModel": [[14, 4, 1, "", "forward"], [14, 3, 1, "", "training"]], "valuation.models.pytorch_model": [[15, 2, 1, "", "PyTorchOptimizer"], [15, 2, 1, "", "PyTorchSupervisedModel"], [15, 1, 1, "", "flatten_gradient"], [15, 1, 1, "", "tt"]], "valuation.models.pytorch_model.PyTorchOptimizer": [[15, 3, 1, "", "ADAM"], [15, 3, 1, "", "ADAM_W"]], "valuation.models.pytorch_model.PyTorchSupervisedModel": [[15, 4, 1, "", "fit"], [15, 4, 1, "", "grad"], [15, 4, 1, "", "mvp"], [15, 4, 1, "", "predict"], [15, 4, 1, "", "score"]], "valuation.reporting": [[17, 0, 0, "-", "plots"], [18, 0, 0, "-", "scores"]], "valuation.reporting.plots": [[17, 1, 1, "", "shaded_mean_std"], [17, 1, 1, "", "shapley_results"], [17, 1, 1, "", "spearman_correlation"]], "valuation.reporting.scores": [[18, 1, 1, "", "backward_elimination"], [18, 1, 1, "", "compute_fb_scores"], [18, 1, 1, "", "forward_selection"], [18, 1, 1, "", "sort_values"], [18, 1, 1, "", "sort_values_array"], [18, 1, 1, "", "sort_values_history"]], "valuation.shapley": [[19, 1, 1, "", "combinatorial_exact_shapley"], [19, 1, 1, "", "combinatorial_montecarlo_shapley"], [20, 0, 0, "-", "knn"], [21, 0, 0, "-", "montecarlo"], [22, 0, 0, "-", "naive"], [19, 1, 1, "", "permutation_exact_shapley"], [19, 1, 1, "", "permutation_montecarlo_shapley"], [19, 1, 1, "", "serial_truncated_montecarlo_shapley"], [19, 1, 1, "", "truncated_montecarlo_shapley"]], "valuation.shapley.knn": [[20, 1, 1, "", "exact_knn_shapley"]], "valuation.shapley.montecarlo": [[21, 1, 1, "", "combinatorial_montecarlo_shapley"], [21, 1, 1, "", "permutation_montecarlo_shapley"], [21, 1, 1, "", "serial_truncated_montecarlo_shapley"], [21, 1, 1, "", "truncated_montecarlo_shapley"]], "valuation.shapley.naive": [[22, 1, 1, "", "combinatorial_exact_shapley"], [22, 1, 1, "", "permutation_exact_shapley"]], "valuation.solve": [[24, 0, 0, "-", "cg"]], "valuation.solve.cg": [[24, 1, 1, "", "conjugate_gradient"], [24, 1, 1, "", "conjugate_gradient_error_bound"]], "valuation.utils": [[25, 2, 1, "", "Dataset"], [25, 2, 1, "", "MapReduceJob"], [25, 2, 1, "", "SupervisedModel"], [25, 2, 1, "", "Utility"], [25, 1, 1, "", "available_cpus"], [25, 1, 1, "", "bootstrap_test_score"], [26, 0, 0, "-", "caching"], [27, 0, 0, "-", "dataset"], [28, 0, 0, "-", "logging"], [25, 1, 1, "", "map_reduce"], [25, 1, 1, "", "maybe_progress"], [25, 1, 1, "", "memcached"], [29, 0, 0, "-", "numeric"], [30, 0, 0, "-", "parallel"], [25, 1, 1, "", "powerset"], [31, 0, 0, "-", "progress"], [32, 0, 0, "-", "types"], [25, 1, 1, "", "unpackable"], [33, 0, 0, "-", "utility"], [25, 1, 1, "", "vanishing_derivatives"]], "valuation.utils.Dataset": [[25, 5, 1, "", "data_names"], [25, 5, 1, "", "dim"], [25, 4, 1, "", "feature"], [25, 4, 1, "", "from_pandas"], [25, 4, 1, "", "from_sklearn"], [25, 4, 1, "", "get_train_data"], [25, 5, 1, "", "indices"], [25, 3, 1, "", "pd"], [25, 4, 1, "", "target"]], "valuation.utils.MapReduceJob": [[25, 4, 1, "", "from_fun"], [25, 4, 1, "", "reduce"]], "valuation.utils.SupervisedModel": [[25, 4, 1, "", "fit"], [25, 4, 1, "", "predict"], [25, 4, 1, "", "score"]], "valuation.utils.Utility": [[25, 3, 1, "", "data"], [25, 3, 1, "", "model"], [25, 3, 1, "", "scoring"]], "valuation.utils.caching": [[26, 2, 1, "", "ClientConfig"], [26, 2, 1, "", "MemcachedConfig"], [26, 1, 1, "", "get_running_avg_variance"], [26, 1, 1, "", "memcached"]], "valuation.utils.caching.ClientConfig": [[26, 3, 1, "", "connect_timeout"], [26, 4, 1, "", "items"], [26, 4, 1, "", "keys"], [26, 3, 1, "", "no_delay"], [26, 3, 1, "", "serde"], [26, 3, 1, "", "server"], [26, 3, 1, "", "timeout"], [26, 4, 1, "", "update"]], "valuation.utils.caching.MemcachedConfig": [[26, 3, 1, "", "allow_repeated_training"], [26, 3, 1, "", "cache_threshold"], [26, 3, 1, "", "client_config"], [26, 3, 1, "", "ignore_args"], [26, 4, 1, "", "items"], [26, 4, 1, "", "keys"], [26, 3, 1, "", "min_repetitions"], [26, 3, 1, "", "rtol_threshold"], [26, 4, 1, "", "update"]], "valuation.utils.dataset": [[27, 2, 1, "", "Dataset"], [27, 2, 1, "", "GroupedDataset"], [27, 1, 1, "", "polynomial"], [27, 1, 1, "", "polynomial_dataset"]], "valuation.utils.dataset.Dataset": [[27, 5, 1, "", "data_names"], [27, 5, 1, "", "dim"], [27, 4, 1, "", "feature"], [27, 4, 1, "", "from_pandas"], [27, 4, 1, "", "from_sklearn"], [27, 4, 1, "", "get_train_data"], [27, 5, 1, "", "indices"], [27, 3, 1, "", "pd"], [27, 4, 1, "", "target"]], "valuation.utils.dataset.GroupedDataset": [[27, 5, 1, "", "data_names"], [27, 4, 1, "", "from_dataset"], [27, 4, 1, "", "from_sklearn"], [27, 4, 1, "", "get_train_data"], [27, 5, 1, "", "indices"]], "valuation.utils.logging": [[28, 2, 1, "", "LogRecordSocketReceiver"], [28, 2, 1, "", "LogRecordStreamHandler"], [28, 1, 1, "", "raise_or_log"], [28, 1, 1, "", "set_logger"], [28, 1, 1, "", "start_logging_server"]], "valuation.utils.logging.LogRecordSocketReceiver": [[28, 3, 1, "", "allow_reuse_address"], [28, 4, 1, "", "serve_until_stopped"]], "valuation.utils.logging.LogRecordStreamHandler": [[28, 4, 1, "", "handle"], [28, 4, 1, "", "handle_log_record"]], "valuation.utils.numeric": [[29, 2, 1, "", "PowerSetDistribution"], [29, 1, 1, "", "linear_regression_analytical_derivative_d2_theta"], [29, 1, 1, "", "linear_regression_analytical_derivative_d_theta"], [29, 1, 1, "", "linear_regression_analytical_derivative_d_x_d_theta"], [29, 1, 1, "", "lower_bound_hoeffding"], [29, 1, 1, "", "mcmc_is_linear_function"], [29, 1, 1, "", "mcmc_is_linear_function_positive_definite"], [29, 1, 1, "", "powerset"], [29, 1, 1, "", "random_matrix_with_condition_number"], [29, 1, 1, "", "random_powerset"], [29, 1, 1, "", "spearman"], [29, 1, 1, "", "vanishing_derivatives"]], "valuation.utils.numeric.PowerSetDistribution": [[29, 3, 1, "", "UNIFORM"], [29, 3, 1, "", "WEIGHTED"]], "valuation.utils.parallel": [[30, 2, 1, "", "Coordinator"], [30, 1, 1, "", "Identity"], [30, 2, 1, "", "InterruptibleWorker"], [30, 2, 1, "", "MapReduceJob"], [30, 1, 1, "", "available_cpus"], [30, 1, 1, "", "chunkify"], [30, 1, 1, "", "make_nested_backend"], [30, 1, 1, "", "map_reduce"]], "valuation.utils.parallel.Coordinator": [[30, 4, 1, "", "clear_results"], [30, 4, 1, "", "clear_tasks"], [30, 4, 1, "", "end"], [30, 4, 1, "", "get_and_process"], [30, 4, 1, "", "instantiate"], [30, 4, 1, "", "put"], [30, 4, 1, "", "start"]], "valuation.utils.parallel.InterruptibleWorker": [[30, 4, 1, "", "aborted"], [30, 4, 1, "", "run"]], "valuation.utils.parallel.MapReduceJob": [[30, 4, 1, "", "from_fun"], [30, 4, 1, "", "reduce"]], "valuation.utils.progress": [[31, 2, 1, "", "MockProgress"], [31, 1, 1, "", "maybe_progress"]], "valuation.utils.progress.MockProgress": [[31, 2, 1, "", "MiniMock"]], "valuation.utils.types": [[32, 2, 1, "", "SupervisedModel"], [32, 2, 1, "", "TorchObjective"], [32, 2, 1, "", "TwiceDifferentiable"], [32, 1, 1, "", "unpackable"]], "valuation.utils.types.SupervisedModel": [[32, 4, 1, "", "fit"], [32, 4, 1, "", "predict"], [32, 4, 1, "", "score"]], "valuation.utils.types.TwiceDifferentiable": [[32, 4, 1, "", "grad"], [32, 4, 1, "", "mvp"]], "valuation.utils.utility": [[33, 2, 1, "", "Utility"], [33, 1, 1, "", "bootstrap_test_score"]], "valuation.utils.utility.Utility": [[33, 3, 1, "", "data"], [33, 3, 1, "", "model"], [33, 3, 1, "", "scoring"]]}, "objtypes": {"0": "py:module", "1": "py:function", "2": "py:class", "3": "py:attribute", "4": "py:method", "5": "py:property"}, "objnames": {"0": ["py", "module", "Python module"], "1": ["py", "function", "Python function"], "2": ["py", "class", "Python class"], "3": ["py", "attribute", "Python attribute"], "4": ["py", "method", "Python method"], "5": ["py", "property", "Python property"]}, "titleterms": {"get": 0, "start": 0, "creat": 0, "dataset": [0, 27], "util": [0, 25, 33], "comput": 0, "shaplei": [0, 4, 19], "valu": 0, "pydvl": [1, 2], "guid": 1, "tutori": 1, "modul": 1, "indic": 1, "tabl": 1, "instal": 2, "depend": 2, "notebook": 3, "knn": [4, 20], "cli": 5, "valuat": 6, "influenc": 7, "gener": 8, "linear": 9, "type": [10, 32], "loo": 11, "naiv": [12, 22], "model": 13, "linear_regression_torch_model": 14, "pytorch_model": 15, "report": 16, "plot": 17, "score": 18, "montecarlo": 21, "todo": 21, "solv": 23, "cg": 24, "cach": 26, "log": 28, "numer": 29, "parallel": 30, "progress": 31}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 6, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx.ext.todo": 2, "nbsphinx": 4, "sphinx": 56}})